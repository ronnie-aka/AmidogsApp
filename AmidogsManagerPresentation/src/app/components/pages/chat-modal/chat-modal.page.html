<ion-header [translucent]="true">
  <ion-toolbar class="vertical-center">
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="chevron-back-outline" size="large"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-avatar slot="start" (click)="onDogClick()">
      <ion-img [src]="'../../../../assets/dogsImages/' + dogPhoto + '.svg'" alt="Dog Photo"></ion-img>
    </ion-avatar>
    <ion-title>{{ dogName }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="presentDeleteConfirm(dogId)">
        <ion-img class="delete-icon" src="../../../../assets/icon/delete.svg"></ion-img>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="redirectToReportPage()">
        <ion-img class="report-icon" src="../../../../assets/icon/reportar.svg"></ion-img>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>



<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ dogName }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-list>
  <ion-item *ngFor="let message of messages; let i = index">
    <ion-label [ngClass]="{ 'message-sent': message.user, 'message-received': !message.user }">
      {{ message.text }}
    </ion-label>
  </ion-item>
</ion-list>
  <div #messageInput></div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-item lines="none" style="padding-left: 15px; padding-right: 15px;">
      <ion-input [(ngModel)]="newMessage" placeholder="Escribe un mensaje" (keyup.enter)="handleKeyPress()" class="message-input"></ion-input>
      <ion-button expand="block" color="danger" class="dual-button" shape="round" (click)="sendMessage()">
        <ion-icon slot="icon-only" name="send"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-toolbar>
</ion-footer>
